# 时钟树
$\qquad$时钟树相当于cpu的心脏，依靠时钟程序才能按照顺序有条不紊的运行。
![[时钟树.png]]
## 时钟树的结构
HSI （High Speed Internal）高速内部时钟和LSI（Low Speed Internal）低速内部时钟：来自芯片内置RC振荡器产生的时钟，无需通过外部工具就能实现，但精度差
HSE （High Speed External）高速外部时钟和LSE（Low Speed External）低速外部时钟：来自外部晶振产生的时钟，精度高
RTC （Real-Time Clock）实时时钟：提供真实时间的时钟，即使断电后依然会通过备用电池电源工作
FLITFCLK（Flash Interface Clock）Flash接口时钟：专用于Flash编程接口的时钟信号，其核心作用是为Flash存储器的读写、擦除等操作提供时钟基准
FCLK （Free Clock）自由运行时钟：不依赖HCLK，直接接在SYSCLK的预分频器上，图上这么连只是表明频率一样。当单片机进入低功耗模式之一的“停止模式”时，AHB会停止运行，HCLK会休眠，此时若要唤醒系统，就要依赖FCLK。
CSS（Clock Security System）时钟安全系统：当时钟源来自外部时钟源时可以开启，可以在外部时钟源损坏时，及时切换到内部时钟源
MCO（Master Clock Output）主时钟输出：开启后，可以选择一个时钟信号从GPIO口输出出来
PLL（Phase Locked Loop）锁相环：可以实现时钟的倍频
AHB（Advanced High Performance Bus）先进高性能总线
APB （Advanced Peripheral Bus）先进外设总线
Cortex System Timer系统定时器：就是SysTick，HAL_Delay所依赖的定时器
## RCC配置
RCC（Reset and Clock Control）复位和时钟控制
Bypass clock source旁路时钟源：指当不需要使用外部晶体时，直接从外界导入时钟信号的内部组件
Crystal/Ceramic Resonator晶体/陶瓷谐振器：指时钟源来自晶振体
Master Clock Output：启用MCO模式